            <div class="post {{ post.status }}" id="post-{{ post.key }}">
                {###################################################################################}
                {# Body #}
                {###################################################################################}
                {% if post.body|length > 0 and post.status != "banned" %}
                <div class="body">
                    {{ post.body }}
                </div>
                {% endif %}
                {###################################################################################}
                {# Media #}
                {###################################################################################}
                {% if post.media_file_name %}
                {% if post.status in ["approved", "delisted"] %}
                {% set optimal_file_name =
                    post.thumbnail_file_name if not solo and post.thumbnail_file_name
                    else post.media_file_name %}
                {% set media_path = "/m/" + post.key + "/" + optimal_file_name|urlencode %}
                {% include "media.jinja" %}
                {% elif (user.account.role in ["admin", "mod"] and post.status == "pending")
                    or (user.account.role == "admin" and post.status == "reported") %}
                {% set media_path = "/admin/decrypt-media/" + post.key %}
                {% include "media.jinja" %}
                {% endif %}
                {% endif %}
                {###################################################################################}
                {# Status #}
                {###################################################################################}
                {% if post.status != "approved" %}
                {% if post.media_file_name %}
                <div class="status">File: {{ post.media_file_name|escape }}</div>
                {% endif %}
                <div class="status">Status: {{ post.status|capitalize }}</div>
                {% endif %}
                {###################################################################################}
                {# Info #}
                {###################################################################################}
                {% if solo %}
                <p class="info">
                    {% if post.username %}
                    <a href="/user/{{ post.username }}">{{ post.username }}</a>
                    <br>
                    {% endif %}
                    {{ post.created_at_str }}
                </p>
                {% endif %}
                {###################################################################################}
                {# Arrow #}
                {###################################################################################}
                {% if not solo
                    and post.status not in ["rejected", "banned"]
                    and (post.media_category != "image"
                        or (post.status in ["pending", "reported"]
                            and user.account.role not in ["admin", "mod"])) %}
                <div class="arrow">
                    <a href="/{{ post.key }}">&rarr;</a>
                </div>
                {% endif %}
                {###################################################################################}
                {# Mod #}
                {###################################################################################}
                {% if (user.account.role == "admin" and post.status in ["pending", "delisted", "reported"])
                    or (user.account.role == "mod" and post.status in ["pending", "delisted"])
                    or (user.account.role in ["admin", "mod"] and post.status == "approved" and solo) %}
                <details class="review">
                    <summary>{{ user.account.role|capitalize }}</summary>
                    <form action="/admin/review-post" method="post" class="approve" data-fetch="PATCH">
                        <input type="hidden" name="session_token" value="{{ user.session_token }}">
                        <input type="hidden" name="key" value="{{ post.key }}">
                        <input type="hidden" name="status" value="approved">
                        <input type="submit" value="Approve"{{ " disabled" if post.status == "approved" }} id="approve-{{ post.key }}-submit">
                    </form>
                    <form action="/admin/review-post" method="post" class="delist" data-fetch="PATCH">
                        <input type="hidden" name="session_token" value="{{ user.session_token }}">
                        <input type="hidden" name="key" value="{{ post.key }}">
                        <input type="hidden" name="status" value="delisted">
                        <input type="submit" value="Delist"{{ " disabled" if post.status == "delisted" }} id="delist-{{ post.key }}-submit">
                    </form>
                {% if user.account.role == "mod" %}
                    <form action="/admin/review-post" method="post" class="reported" data-fetch="PATCH">
                        <input type="hidden" name="session_token" value="{{ user.session_token }}">
                        <input type="hidden" name="key" value="{{ post.key }}">
                        <input type="hidden" name="status" value="reported">
                        <input type="submit" value="Report"{{ " disabled" if post.status == "reported" }} id="report-{{ post.key }}-submit">
                    </form>
                {% elif user.account.role == "admin" %}
                    <form action="/admin/review-post" method="post" class="reject" data-fetch="PATCH" data-confirm>
                        <input type="hidden" name="session_token" value="{{ user.session_token }}">
                        <input type="hidden" name="key" value="{{ post.key }}">
                        <input type="hidden" name="status" value="rejected">
                        <input type="submit" value="Reject"{{ " disabled" if post.status == "rejected" }} id="reject-{{ post.key }}-submit">
                    </form>
                    <form action="/admin/review-post" method="post" class="ban" data-fetch="DELETE" data-confirm>
                        <input type="hidden" name="session_token" value="{{ user.session_token }}">
                        <input type="hidden" name="key" value="{{ post.key }}">
                        <input type="hidden" name="status" value="banned">
                        <input type="submit" value="Ban"{{ " disabled" if post.status == "banned" }} id="ban-{{ post.key }}-submit">
                    </form>
                {% endif %}
                </details>
                {% endif %}
                {###################################################################################}
                {# Hide #}
                {###################################################################################}
                {% if post.status == "rejected" and
                    (post.session_token == user.session_token or post.account_id == user.account.id) %}
                <form action="/hide-post" method="post" data-fetch="PATCH">
                    <input type="hidden" name="session_token" value="{{ user.session_token }}">
                    <input type="hidden" name="key" value="{{ post.key }}">
                    <input type="submit" value="Hide" id="hide-{{ post.key }}-submit">
                </form>
                {% elif post.status in ["rejected", "banned"]
                    or (post.status == "reported" and user.account.role == "mod") %}
                <button onclick="this.parentElement.remove()">Hide</button>
                {% endif %}
            </div>
