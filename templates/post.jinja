            <div class="post {{ post.status }}" id="post-{{ post.key }}">
                {###################################################################################}
                {# Body #}
                {###################################################################################}
                {% if post.body|length > 0 and post.status != "banned" %}
                <div class="body">
                    {% if solo and post.youtube %}
                    {{ post.body|remove_youtube_thumbnail_links(post.key) }}
                    {% else %}
                    {{ post.body }}
                    {% endif %}
                </div>
                {% endif %}
                {###################################################################################}
                {# Media #}
                {###################################################################################}
                {% if post.media_file_name_opt is not none %}
                {% if post.status in ["approved", "delisted"] %}
                {% set optimal_file_name =
                    post.thumbnail_file_name_opt if not solo and post.thumbnail_file_name_opt is not none
                    else post.media_file_name_opt %}
                {% set media_path = "/m/" + post.key + "/" + optimal_file_name|urlencode %}
                {% include "media.jinja" %}
                {% elif (user.account_opt.role in ["admin", "mod"] and post.status == "pending")
                    or (user.account_opt.role == "admin" and post.status == "reported") %}
                {% set media_path = "/decrypt-media/" + post.key %}
                {% include "media.jinja" %}
                {% endif %}
                {% endif %}
                {###################################################################################}
                {# Status #}
                {###################################################################################}
                {% if post.status != "approved" %}
                <div class="status">
                    {% if post.media_file_name_opt is not none %}
                    File: {{ post.media_file_name_opt|escape }}
                    <br>
                    {% endif %}
                    Status: {{ post.status|capitalize }}
                </div>
                {% endif %}
                {###################################################################################}
                {# Info #}
                {###################################################################################}
                {% if solo %}
                <div id="created-at">{{ post.created_at_str_opt }}</div>
                {% endif %}
                {###################################################################################}
                {# Arrow #}
                {###################################################################################}
                {% if not solo
                    and post.status not in ["rejected", "banned"]
                    and (post.media_category_opt != "image"
                        or (post.status in ["pending", "reported"]
                            and user.account_opt.role not in ["admin", "mod"]))
                    and not post.youtube %}
                <div class="arrow">
                    <a href="/{{ post.key }}">&rarr;</a>
                </div>
                {% endif %}
                {###################################################################################}
                {# Review #}
                {###################################################################################}
                {% if (user.account_opt.role == "admin" and post.status in ["pending", "delisted", "reported"])
                    or (user.account_opt.role == "mod" and post.status in ["pending", "delisted"])
                    or ((user.account_opt.role == "admin" or (user.account_opt.role == "mod" and post.recent_opt))
                        and post.status == "approved" and solo) %}
                <details class="review">
                    <summary>Review</summary>
                    <form action="/review/{{ post.key }}" method="post" class="approve" data-fetch>
                        <input type="hidden" name="session_token" value="{{ user.session_token }}">
                        <input type="hidden" name="status" value="approved">
                        <input type="submit" value="Approve"{{ " disabled" if post.status == "approved" }}>
                    </form>
                    <form action="/review/{{ post.key }}" method="post" class="delist" data-fetch>
                        <input type="hidden" name="session_token" value="{{ user.session_token }}">
                        <input type="hidden" name="status" value="delisted">
                        <input type="submit" value="Delist"{{ " disabled" if post.status == "delisted" }}>
                    </form>
                {% if user.account_opt.role == "mod" %}
                    <form action="/review/{{ post.key }}" method="post" class="reported" data-fetch data-confirm>
                        <input type="hidden" name="session_token" value="{{ user.session_token }}">
                        <input type="hidden" name="status" value="reported">
                        <input type="submit" value="Report"{{ " disabled" if post.status == "reported" }}>
                    </form>
                {% elif user.account_opt.role == "admin" %}
                    <form action="/review/{{ post.key }}" method="post" class="reject" data-fetch data-confirm>
                        <input type="hidden" name="session_token" value="{{ user.session_token }}">
                        <input type="hidden" name="status" value="rejected">
                        <input type="submit" value="Reject"{{ " disabled" if post.status == "rejected" }}>
                    </form>
                    <form action="/review/{{ post.key }}" method="post" class="ban" data-fetch data-confirm>
                        <input type="hidden" name="session_token" value="{{ user.session_token }}">
                        <input type="hidden" name="status" value="banned">
                        <input type="submit" value="Ban"{{ " disabled" if post.status == "banned" }}>
                    </form>
                {% endif %}
                </details>
                {% endif %}
                {###################################################################################}
                {# Hide #}
                {###################################################################################}
                {% if post.status == "rejected" and
                    (post.session_token_opt == user.session_token or post.account_id_opt == user.account_opt.id) %}
                <form action="/hide-post" method="post" data-fetch>
                    <input type="hidden" name="session_token" value="{{ user.session_token }}">
                    <input type="hidden" name="key" value="{{ post.key }}">
                    <input type="submit" value="Hide">
                </form>
                {% elif post.status in ["rejected", "banned"]
                    or (post.status == "reported" and user.account_opt.role == "mod") %}
                <button onclick="this.parentElement.remove()">Hide</button>
                {% endif %}
            </div>
