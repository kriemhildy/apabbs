    {% extends "layout.jinja" %}
    {% block main %}
    <main id="settings" class="wide">
        {% if notice %}
        <p id="notice">{{ notice }}</p>
        {% endif %}
        <h2>Settings</h2>
        <h3>Authentication</h3>
        <form action="/settings/logout" method="post">
            <input type="hidden" name="session_token" value="{{ user.session_token }}">
            Delete account cookie:
            <input type="submit" value="Log out">
        </form>
        <form action="/settings/reset-account-token" method="post" data-confirm>
            <input type="hidden" name="session_token" value="{{ user.session_token }}">
            Reset account token:
            <input type="submit" value="Log out all devices">
        </form>
        <h3>Time zone</h3>
        <form action="/settings/update-time-zone" method="post">
            <input type="hidden" name="session_token" value="{{ user.session_token }}">
            <select name="time_zone">
                {% for tz in time_zones %}
                <option value="{{ tz }}"{{ " selected" if tz == user.account.time_zone }}>{{ tz }}</option>
                {% endfor %}
            </select>
            <input type="submit" value="Update">
        </form>
        <h3>Password</h3>
        <form action="/settings/update-password" method="post" class="grid">
            <input type="hidden" name="session_token" value="{{ user.session_token }}">
            <input type="hidden" name="username" value="{{ user.account.username }}">
            <label for="new-password">New password:</label>
            <input id="new-password" type="password" name="password" maxlength="64" autocomplete="new-password">
            <label for="confirm-password">Confirm new password:</label>
            <input id="confirm-password" type="password" name="confirm_password" maxlength="64" autocomplete="new-password">
            <input type="submit" value="Update password">
        </form>
    </main>
    {% endblock %}

